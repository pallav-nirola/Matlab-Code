clc; clear all;

A = [1 2 0;
     0 1 1;
     1 0 1];

[m,n] = size(A);
Q = zeros(m,n);
R = zeros(n,n);

for i = 1:n
    u = A(:,i);

    for j = 1:i-1
        R(j,i) = dot(Q(:,j), A(:,i));
        u = u - R(j,i) * Q(:,j);
    end

    R(i,i) = norm(u);
    Q(:,i) = u / R(i,i);
end

disp('Matrix Q (Orthonormal):');
Q
disp('Matrix R (Upper Triangular):');
R
